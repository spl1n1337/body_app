import{S as Ee,i as we,s as ye,A as ae,f as B,B as le,m as T,C as oe,n as J,t as ne,b as ce,D as ie,l as i,r as De,q as Ie,e as u,d as P,h as f,j as p,k as q,x as e,F as be,o as s,E as x,H as Ve,I as Be,G as Te,J as Fe}from"../chunks/index.38a176c8.js";import{B as Se}from"../chunks/BackArrow.305c4988.js";import{T as Ne}from"../chunks/TrainingHeader.6f0bc9ea.js";import{C as Oe}from"../chunks/Container.08fd762d.js";import{g as Pe}from"../chunks/navigation.b21568d4.js";import{s as $e,h as ke,e as qe}from"../chunks/forms.11dad2ee.js";import{l as Ae}from"../chunks/stores.d58668a2.js";function Ce(n){let r,c;return r=new Se({props:{backFunction:n[4]}}),{c(){ae(r.$$.fragment)},l(a){le(r.$$.fragment,a)},m(a,l){oe(r,a,l),c=!0},p:Ie,i(a){c||(ne(r.$$.fragment,a),c=!0)},o(a){ce(r.$$.fragment,a),c=!1},d(a){ie(r,a)}}}function Le(n){let r,c,a,l,t,m,h,k,E,_,b,w,U,j,y,d,G,g,$,D,H,I,M,z,Y,S,V,K,Z,F,N,A,ee,te,O,C,se,re,ue;return{c(){r=u("div"),c=P("Войти"),a=B(),l=u("div"),t=P("Введите почту и пароль для"),m=u("br"),h=P("авторизации"),k=B(),E=u("div"),_=u("form"),b=u("div"),w=u("label"),U=P("Почта"),j=B(),y=u("input"),G=B(),g=u("div"),$=u("label"),D=P("Пароль"),H=B(),I=u("input"),Y=B(),S=u("button"),V=u("img"),Z=B(),F=u("div"),N=u("div"),A=u("div"),ee=P("Войти"),te=B(),O=u("div"),C=u("div"),se=P("Зарегистрироваться"),this.h()},l(o){r=f(o,"DIV",{class:!0});var v=p(r);c=q(v,"Войти"),v.forEach(i),a=T(o),l=f(o,"DIV",{class:!0});var Q=p(l);t=q(Q,"Введите почту и пароль для"),m=f(Q,"BR",{}),h=q(Q,"авторизации"),Q.forEach(i),k=T(o),E=f(o,"DIV",{class:!0});var fe=p(E);_=f(fe,"FORM",{method:!0,class:!0});var L=p(_);b=f(L,"DIV",{class:!0});var W=p(b);w=f(W,"LABEL",{class:!0,for:!0});var me=p(w);U=q(me,"Почта"),me.forEach(i),j=T(W),y=f(W,"INPUT",{class:!0,type:!0,name:!0}),W.forEach(i),G=T(L),g=f(L,"DIV",{class:!0});var R=p(g);$=f(R,"LABEL",{class:!0,for:!0});var _e=p($);D=q(_e,"Пароль"),_e.forEach(i),H=T(R),I=f(R,"INPUT",{class:!0,type:!0,name:!0}),Y=T(R),S=f(R,"BUTTON",{class:!0});var de=p(S);V=f(de,"IMG",{src:!0,alt:!0,class:!0}),de.forEach(i),R.forEach(i),Z=T(L),F=f(L,"DIV",{class:!0});var X=p(F);N=f(X,"DIV",{class:!0});var pe=p(N);A=f(pe,"DIV",{class:!0});var ve=p(A);ee=q(ve,"Войти"),ve.forEach(i),pe.forEach(i),te=T(X),O=f(X,"DIV",{class:!0});var ge=p(O);C=f(ge,"DIV",{class:!0});var he=p(C);se=q(he,"Зарегистрироваться"),he.forEach(i),ge.forEach(i),X.forEach(i),L.forEach(i),fe.forEach(i),this.h()},h(){e(r,"class","reg-title text-32b svelte-tlsgor"),e(l,"class","reg-descr text-16m c-dark-gray svelte-tlsgor"),e(w,"class","text-12s c-dark-gray"),e(w,"for","email"),e(y,"class",d="text-14s "+(n[1]?"error":"")+" svelte-tlsgor"),e(y,"type","email"),e(y,"name","email"),e(b,"class","email-container svelte-tlsgor"),e($,"class","text-12s c-dark-gray"),e($,"for","password"),e(I,"class",M="text-14s "+(n[1]?"error":"")+" svelte-tlsgor"),e(I,"type",z=n[2]?"text":"password"),e(I,"name","password"),be(V.src,K=n[2]?ke:$e)||e(V,"src",K),e(V,"alt","q"),e(V,"class","svelte-tlsgor"),e(S,"class","hide-btn svelte-tlsgor"),e(g,"class","password-container svelte-tlsgor"),e(A,"class","start-training-text text-16s svelte-tlsgor"),e(N,"class","big-black-button _black svelte-tlsgor"),e(C,"class","start-training-text c-black text-16s svelte-tlsgor"),e(O,"class","big-black-button __white svelte-tlsgor"),e(F,"class","button-container svelte-tlsgor"),e(_,"method","post"),e(_,"class","svelte-tlsgor"),e(E,"class","form-container svelte-tlsgor")},m(o,v){J(o,r,v),s(r,c),J(o,a,v),J(o,l,v),s(l,t),s(l,m),s(l,h),J(o,k,v),J(o,E,v),s(E,_),s(_,b),s(b,w),s(w,U),s(b,j),s(b,y),s(_,G),s(_,g),s(g,$),s($,D),s(g,H),s(g,I),s(g,Y),s(g,S),s(S,V),s(_,Z),s(_,F),s(F,N),s(N,A),s(A,ee),s(F,te),s(F,O),s(O,C),s(C,se),n[10](_),re||(ue=[x(y,"focus",n[6]),x(I,"focus",n[7]),x(S,"click",Ve(n[8])),x(N,"click",n[5]),x(O,"click",n[9]),Be(qe.call(null,_)),x(_,"click",n[11])],re=!0)},p(o,v){v&2&&d!==(d="text-14s "+(o[1]?"error":"")+" svelte-tlsgor")&&e(y,"class",d),v&2&&M!==(M="text-14s "+(o[1]?"error":"")+" svelte-tlsgor")&&e(I,"class",M),v&4&&z!==(z=o[2]?"text":"password")&&e(I,"type",z),v&4&&!be(V.src,K=o[2]?ke:$e)&&e(V,"src",K)},d(o){o&&i(r),o&&i(a),o&&i(l),o&&i(k),o&&i(E),n[10](null),re=!1,Te(ue)}}}function Re(n){let r,c,a,l;return r=new Ne({props:{$$slots:{default:[Ce]},$$scope:{ctx:n}}}),a=new Oe({props:{$$slots:{default:[Le]},$$scope:{ctx:n}}}),{c(){ae(r.$$.fragment),c=B(),ae(a.$$.fragment)},l(t){le(r.$$.fragment,t),c=T(t),le(a.$$.fragment,t)},m(t,m){oe(r,t,m),J(t,c,m),oe(a,t,m),l=!0},p(t,[m]){const h={};m&8192&&(h.$$scope={dirty:m,ctx:t}),r.$set(h);const k={};m&8199&&(k.$$scope={dirty:m,ctx:t}),a.$set(k)},i(t){l||(ne(r.$$.fragment,t),ne(a.$$.fragment,t),l=!0)},o(t){ce(r.$$.fragment,t),ce(a.$$.fragment,t),l=!1},d(t){ie(r,t),t&&i(c),ie(a,t)}}}function xe(n,r,c){let a;De(n,Ae,d=>c(12,a=d));let l,t=!1,m=()=>c(1,t=""),h=!1;const k=d=>{d.stopPropagation(),history.back()};async function E(){m();const d=new FormData(l),G=d.get("email"),g=d.get("password"),$={username:G,password:g};console.log(JSON.stringify($));try{const D=await fetch(`${a}/api/token/pair`,{method:"POST",body:JSON.stringify($)});if(D.ok)l.submit(),console.log(D);else{const H=await D.json();c(1,t=!0),console.error("Ошибка при отправке формы:",H.detail)}}catch(D){console.error("Ошибка при отправке запроса:",D)}}const _=()=>{m()},b=()=>{m()},w=()=>c(2,h=!h),U=()=>Pe("/registration/user_registration");function j(d){Fe[d?"unshift":"push"](()=>{l=d,c(0,l)})}return[l,t,h,m,k,E,_,b,w,U,j,()=>c(1,t=!1)]}class Ke extends Ee{constructor(r){super(),we(this,r,xe,Re,ye,{})}}export{Ke as component};
